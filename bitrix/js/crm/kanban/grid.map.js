{"version":3,"sources":["grid.js"],"names":["BX","namespace","CRM","Kanban","Grid","options","apply","this","arguments","addCustomEvent","delegate","onBeforeItemCaptured","onBeforeItemRestored","onBeforeItemMoved","onItemMoved","onColumnAddedAsync","onColumnUpdated","onColumnMoved","onColumnRemovedAsync","onColumnLoadAsync","onItemDragStartHandler","onApplyFilter","onApplyFilterCounter","proxy","onPullEventHandlerCrm","onCrmActivityTodoChecked","onSliderClose","setInterval","loadNew","loadNewInterval","prototype","__proto__","constructor","accessNotifyDialog","ajaxParams","getAjaxHandlerPath","data","getData","type","isNotEmptyString","ajaxHandlerPath","setAjaxParams","ajax","onsuccess","onfailure","dataType","gridData","url","sessid","bitrix_sessid","extra","params","entity_type","entityType","version","action","indexOf","method","accessNotify","Intranet","NotifyDialog","listUserData","notificationHandlerUrl","popupTexts","sendButton","message","title","header","description","setUsersForNotify","admins","show","addStage","column","promise","Promise","targetColumn","getPreviousColumnSibling","targetColumnId","getId","columnName","getName","columnColor","getColor","afterColumnId","error","fulfill","Utils","showErrorDialog","fatal","reject","bind","removeStage","columnId","delete","getColumnItems","page","getPagination","getPage","isArray","items","addItemTop","getColumn","columnItems","getItems","length","targetId","incPrice","price","addItem","id","entityId","entity_id","min_entity_id","lastId","i","item","existItem","getItem","existData","existColumn","newColumn","updateItem","decPrice","parseFloat","renderSubTitle","setData","itemData","removeItem","onItemDragStart","setDragMode","DragMode","ITEM","itemColumnData","itemColumnId","getColumnId","itemId","enableDropping","setLastPosition","promises","push","dropEvent","onCustomEvent","isActionAllowed","drop","getDropZone","event","getTargetColumn","beforeItem","skipHandler","handlerData","grid","skip","afterItemId","DropZone","afterItem","getPreviousItemSibling","prev_entity_id","status","setDataKey","color","afterColumn","filterId","values","filterInstance","fadeOut","autoResolve","columns","getColumns","c","removeColumn","removeItems","loadData","fadeIn","sender","eventArgs","setTimeout","fields","ACTIVITY_COUNTER","filter","Main","filterManager","getById","gridId","api","getApi","setFields","command","COMPLETED","OWNER_TYPE_NAME","OWNER_ID","activityProgress","getDataKey","switchPlanner","matches","originalTag","match","RegExp","settingName","activityId","ownerId","ownerTypeId","SliderEvent","maskUrl","entityPath","sliderUrl","slider","getUrl","replace"],"mappings":"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","file":""}